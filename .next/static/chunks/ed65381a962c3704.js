(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,s)=>{t.exports=e.r(76562)},64797,e=>{"use strict";e.s(["default",()=>l]);var t=e.i(43476),s=e.i(71645),a=e.i(66540),r=e.i(81949),o=e.i(22279),c=e.i(18566);let l=()=>{let e=["60","61","62","63","64","65","66","67","68","69"],[l,n]=(0,s.useState)(Array(e.length).fill("")),[d,i]=(0,s.useState)([]),[u,m]=(0,s.useState)(null),h=(0,c.useRouter)(),f=(0,c.useSearchParams)().get("stockId");(0,s.useEffect)(()=>{p(),f||n(e.map(()=>String(Math.floor(100*Math.random())).padStart(2,"0")))},[]);let p=()=>{let e,t=(0,a.default)(),s=(0,a.default)().hour(9).minute(0).second(0),r=(0,a.default)().hour(15).minute(0).second(0),o=(0,a.default)().hour(21).minute(0).second(0),c=t.isAfter(o)?(0,a.default)().add(1,"day"):(0,a.default)();t.isBefore(s)||t.isAfter(o)?e=c.clone().hour(9).minute(0).second(0):t.isBefore(r)?(e=c.clone().hour(t.hour()).minute(t.minute()).second(0)).add(15-(e.minute()%15||15),"minutes").startOf("minute"):(e=c.clone().hour(t.hour()).minute(t.minute()).second(0)).add(20-(e.minute()%20||20),"minutes").startOf("minute");let l=[],n=e.clone(),d=c.clone().hour(21).minute(20).second(0);for(;n.isSameOrBefore(d);){let e=n.isBefore(c.clone().hour(15))?15:20;l.push(n.format("YYYY-MM-DD HH:mm:ss")),n.add(e,"minutes")}i(l)},x=async()=>{try{let e=await r.default.get("".concat(o.Base_Url,"/stock/get-stock-by-id?stockId=").concat(f));if(e.data.success&&e.data.data){let t=e.data.data;m(t.stockTime);let s=t.stockPrices.split(",").map(e=>e.slice(-2));n(s)}}catch(e){console.log(e)}};(0,s.useEffect)(()=>{f&&x()},[f]);let b=async()=>{let t=l.map((t,s)=>"".concat(e[s]).concat(t.padStart(2,"0")));(f?await r.default.put("".concat(o.Base_Url,"/stock/update-stock?stockId=").concat(f),{stockPrices:t.join(",")}):await r.default.post("".concat(o.Base_Url,"/stock/create-new-stock"),{stockTime:d[0],stockPrices:t.join(",")})).data.success&&h.push("/admin")},g=async()=>{let t=(0,a.default)(),s=t.clone().hour(9).minute(0).second(0),c=t.clone().hour(15).minute(0).second(0),l=t.clone().hour(21).minute(20).second(0),n=[],d=s.clone();for(;d.isSameOrBefore(l);){let e=d.isBefore(c)?15:20;n.push(d.format("YYYY-MM-DD HH:mm:ss")),d.add(e,"minutes")}let i=n.map(t=>({stockTime:t,stockPrices:e.map(()=>String(Math.floor(100*Math.random())).padStart(2,"0")).map((t,s)=>"".concat(e[s]).concat(t)).join(",")}));try{(await r.default.post("".concat(o.Base_Url,"/stock/create-bulk"),{stocks:i})).data.success&&h.push("/admin")}catch(e){console.log("Error creating bulk stocks",e)}};return(0,t.jsxs)("div",{className:"min-h-screen bg-[#01244a] text-white flex flex-col items-center p-6",children:[(0,t.jsx)("h1",{className:"text-xl font-bold mb-6",children:"Enter Winning Numbers"}),(0,t.jsxs)("p",{className:"mb-4",children:["Current Slot:"," ",(0,t.jsx)("span",{className:"font-semibold",children:(0,a.default)(u||d[0]).format("hh:mm A")||"--"})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"border-collapse border border-gray-400 text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-[#022c5a]",children:[(0,t.jsx)("th",{className:"border border-gray-400 px-3 py-2",children:"Prefix"}),(0,t.jsx)("th",{className:"border border-gray-400 px-3 py-2",children:"Last 2 Digits"}),(0,t.jsx)("th",{className:"border border-gray-400 px-3 py-2",children:"Final Number"})]})}),(0,t.jsx)("tbody",{children:e.map((e,s)=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"border border-gray-400 px-3 py-2 text-center font-semibold",children:e}),(0,t.jsx)("td",{className:"border border-gray-400 px-3 py-2 text-center",children:(0,t.jsx)("input",{type:"text",value:l[s],onChange:e=>((e,t)=>{if(/^\d{0,2}$/.test(t)){let s=[...l];s[e]=t,n(s)}})(s,e.target.value),className:"w-16 text-center border border-gray-500 text-white rounded",placeholder:"__"})}),(0,t.jsx)("td",{className:"border border-gray-400 px-3 py-2 text-center",children:l[s]?"".concat(e).concat(l[s].padStart(2,"0")):"--"})]},s))})]})}),(0,t.jsxs)("div",{className:"flex gap-4 mt-6 flex-wrap",children:[(0,t.jsx)("button",{onClick:g,className:"bg-green-400 text-black font-semibold px-6 py-2 rounded hover:bg-green-300",children:"Auto Add"}),(0,t.jsx)("button",{onClick:b,className:"bg-yellow-400 text-black font-semibold px-6 py-2 rounded hover:bg-yellow-300",children:"Save Numbers"})]})]})}}]);